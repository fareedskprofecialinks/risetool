"use strict";

var _user = _interopRequireDefault(require("../../assets/user.png"));

var _TestUtil = _interopRequireDefault(require("../Util/TestUtil"));

var _UserChip = _interopRequireDefault(require("./UserChip"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/*eslint-env jest*/
describe('<UserChip />', function () {
  var wrapper;
  beforeEach(function () {
    wrapper = _TestUtil["default"].mountComponent(_UserChip["default"]);
  });
  it('is defined', function () {
    expect(_UserChip["default"]).not.toBeUndefined();
  });
  it('can be rendered', function () {
    expect(wrapper).not.toBeUndefined();
  });
  it('determines initials from given user name', function () {
    wrapper.setProps({
      userName: 'Shinji Kagawa'
    });
    var test = wrapper.instance().getInitials();
    expect(test).toBe('SK');
  });
  it('uses imageSrc if image is given', function () {
    var props = {
      imageSrc: _user["default"]
    };

    var wrapper = _TestUtil["default"].mountComponent(_UserChip["default"], props);

    expect(wrapper.find('img').props().src).toContain(_user["default"]);
  });
  it('uses initials if image is not given', function () {
    wrapper.setProps({
      userName: 'Shinji Kagawa'
    });
    expect(wrapper.find('img').length).toBe(0);
  });
  it('should not render a dropdown for invalid configuration', function () {
    wrapper.setProps({
      userName: 'Shinji Kagawa'
    });
    wrapper.setProps({
      userMenu: null
    });
    expect(wrapper.find('ul.user-appinfo-menu').length).toBe(0);
  });
  it('should pass style prop', function () {
    var props = {
      style: {
        backgroundColor: 'yellow'
      }
    };

    var wrapper = _TestUtil["default"].mountComponent(_UserChip["default"], props);

    expect(wrapper.props().style.backgroundColor).toBe('yellow');
  });
});